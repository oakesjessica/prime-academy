/*! patronus_assigner 2016-04-21 */
var app=angular.module("patronusApp",[]);app.controller("PatronusController",["$timeout","$http",function(a,b){var c=this;c.person={},c.patronus={},c.peopleList=[],c.patronusesList=[],c.unassignedPeopleList=[],c.assignedPeopleList=[],c.peopleID=0,c.patronusesID=0,c.savePerson=function(){b.post("/people",c.person).then(function(a){console.log(a),c.getPeople()})},c.savePatronus=function(){b.post("/patronuses",c.patronus).then(function(a){console.log(a),c.getPatronuses()})},c.getPeople=function(){b.get("/people").then(function(a){c.peopleList=a.data,c.unassignedPeopleList=c.peopleList.filter(function(a){return null==a.patronus_id}),c.assignedPeopleList=c.peopleList.filter(function(a){return null!==a.patronus_id})})},c.getPatronuses=function(){b.get("/patronuses").then(function(a){c.patronusesList=a.data})},c.assignPatronus=function(){c.showGIF=!0,b.put("/people/"+c.peopleID,{patronus_id:c.patronusesID}).then(function(b){c.getPatronuses(),c.getPeople(),a(function(){c.showGIF=!1},3e3)})},c.getPeople(),c.getPatronuses()}]);