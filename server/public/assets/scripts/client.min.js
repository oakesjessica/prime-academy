var app=angular.module("ticketApp",[]);app.controller("TicketController",["$http",function(a){var b=this;b.ticket={},b.tickets=[];var c=function(){return a.get("/tickets").then(function(a){if(200!==a.status)throw new Error("Failed to retrieve tickets");return b.ticket={},b.tickets=a.data,a.data})};b.submitTicket=function(){return a.post("/tickets",b.ticket).then(c())},b.completeTicket=function(b){var d=b._id;a["delete"]("/tickets/complete/"+d).then(c())},b.makeEdits=function(a){b.editTicket=a},b.saveEdits=function(){a.put("/tickets/update",b.editTicket).then(function(a){b.editTicket={},c()})},c()}]);