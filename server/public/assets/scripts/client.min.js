/*! patronus_assigner 2016-04-21 */
var app=angular.module("patronusApp",[]);app.controller("PatronusController",["$http",function(a){console.log("angular set up");var b=this;b.person={},b.patronus={},b.peopleList=[],b.patronusesList=[],b.unassignedPeopleList=[],b.assignedPeopleList=[],b.peopleID=0,b.patronusesID=0,b.savePerson=function(){console.log(b.person),a.post("/people",b.person).then(function(a){console.log(a),b.getPeople()})},b.savePatronus=function(){a.post("/patronuses",b.patronus).then(function(a){console.log(a),b.getPatronuses()})},b.getPeople=function(){a.get("/people").then(function(a){b.peopleList=a.data,console.log("peopleList",b.peopleList),b.unassignedPeopleList=b.peopleList.filter(function(a){return null==a.patronus_id}),console.log("unassignedPeopleList",b.unassignedPeopleList),b.assignedPeopleList=b.peopleList.filter(function(a){return null!==a.patronus_id})})},b.getPatronuses=function(){a.get("/patronuses").then(function(a){b.patronusesList=a.data})},b.assignPatronus=function(){a.put("/people/"+b.peopleID,{patronus_id:b.patronusesID}).then(function(a){b.getPatronuses(),b.getPeople()})},b.getPeople(),b.getPatronuses()}]);