var app=angular.module("ticketApp",[]);app.controller("TicketController",["$http",function(a){var b=this;b.ticket={},b.tickets=[];var c=function(){return a.get("/tickets").then(function(a){if(200!==a.status)throw new Error("Failed to retrieve tickets");return b.ticket={},b.tickets=a.data,a.data})};b.submitTicket=function(b){return a.post("/tickets",b).then(c())},b.completeTicket=function(b){var d=b._id;a["delete"]("/tickets/complete/"+d).then(c())},b.editTicket=function(a){console.log("edit"),b.editTicket=a},b.saveEdits=function(){console.log("save"),console.log("editTicket",b.editTicket);b.ticket._id;a.put("/tickets/update",b.editTicket).then(function(a){console.log("Edited Ticket updated"),b.editTicket={},c()})},c()}]);